// Generated by CoffeeScript 1.11.1
(function() {
  var Adb, GetPropertiesCommand, ListDevicesCommand, Promise, WaitForDevibceCommand;

  Promise = require('bluebird');

  WaitForDevibceCommand = require('./lib/WaitForDeviceCommand');

  ListDevicesCommand = require('./lib/ListDevicesCommand');

  GetPropertiesCommand = require('./lib/GetPropertiesCommand');

  Adb = (function() {
    function Adb(options) {
      var host, port;
      host = options.host;
      port = options.port;
    }

    Adb.createClient = function(options) {
      return new Adb(options);
    };

    Adb.prototype.listDevices = function(callback) {
      var resolver;
      resolver = Promise.defer();
      new ListDevicesCommand('adb', 'devices').execute(callback).then(function(serialId) {
        return resolver.resolve(serialId);
      })["catch"](function(err) {
        return resolver.reject(err);
      });
      return resolver.promise;
    };

    Adb.prototype.trackDevices = function(callback) {
      var resolver;
      resolver = Promise.defer();
      new WaitForDevibceCommand('adb', 'wait-for-device').execute(callback).then(function(tracker) {
        return resolver.resolve(tracker);
      });
      return resolver.promise;
    };

    Adb.prototype.getProperties = function(serial, callback) {
      var resolver;
      resolver = Promise.defer();
      new GetPropertiesCommand('adb', 'shell', 'getprop').execute(serial, callback).then(function(properties) {
        return resolver.resolve(properties);
      });
      return resolver.promise;
    };

    return Adb;

  })();

  module.exports = Adb;

}).call(this);

//# sourceMappingURL=adb.js.map
